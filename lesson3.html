<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AIvest — Уровень 3: Теория и тест</title>
<style>
  body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f9fafb; color:#1e3a8a; }
  body.dark { background:#0b1220; color:#e6eefc; }
  header { background:#2563eb; color:white; padding:1rem; text-align:center; }
  main { max-width:800px; margin:2rem auto; padding:0 1rem; }
  h2 { color:#2563eb; }
  p { margin-bottom:1rem; line-height:1.5; }
  .btn { padding:.5rem 1rem; border:none; border-radius:.5rem; background:#2563eb; color:white; cursor:pointer; margin-top:1rem; }
  .question { margin-top:2rem; padding:1rem; border:1px solid #2563eb; border-radius:.75rem; background:#e0f2fe; }
  .options { margin-top:1rem; display:flex; flex-direction:column; gap:.5rem; }
  .options label { display:flex; align-items:center; gap:.5rem; cursor:pointer; }
  .feedback { margin-top:1rem; font-weight:bold; }
  #nextLevel { display:none; margin-top:1.5rem; text-align:center; }
</style>
</head>
<body>
<header>
  <h1>Уровень 3: Риск и доходность</h1>
</header>
<main>
  <section id="theory">
    <h2>Теория</h2>
    <p>В инвестициях важно понимать соотношение риска и доходности. Чем выше потенциальная прибыль, тем выше риск потерь.</p>
    <p>Акции могут давать высокий доход, но и падать резко в цене. Облигации более стабильны, но обычно приносят меньше.</p>
    <p>Для успешного инвестора важно оценивать, какой риск он готов принять, и строить портфель, учитывая свои цели.</p>
    <button class="btn" onclick="showQuestion()">Перейти к тесту</button>
  </section>

  <section id="question" style="display:none;">
    <h2>Тест</h2>
    <div class="question" id="q1">
      <p>Что верно описывает соотношение риска и доходности?</p>
      <div class="options">
        <label><input type="radio" name="q1" value="wrong"> Чем выше доходность, тем ниже риск</label>
        <label><input type="radio" name="q1" value="right"> Чем выше доходность, тем выше риск</label>
        <label><input type="radio" name="q1" value="wrong"> Риск и доходность не связаны</label>
      </div>
      <button class="btn" onclick="checkAnswer()">Проверить</button>
      <div class="feedback" id="feedback"></div>
    </div>
  </section>

  <!-- Кнопка перехода на следующий уровень -->
  <div id="nextLevel">
    <button class="btn" onclick="goNextLevel()">Перейти к уровню 4</button>
  </div>
</main>

<script>
function showQuestion(){
  document.getElementById('theory').style.display = 'none';
  document.getElementById('question').style.display = 'block';
}

function checkAnswer(){
  const radios = document.getElementsByName('q1');
  let selected = null;
  radios.forEach(r => { if(r.checked) selected = r.value; });
  const feedback = document.getElementById('feedback');
  if(!selected){ feedback.textContent = "Выберите ответ!"; return; }
  if(selected === 'right'){
    feedback.textContent = "Верно! Высокий доход обычно связан с высоким риском.";
    // сохраняем прогресс
    const progress = JSON.parse(localStorage.getItem('lessonProgress')||"{}");
    progress[2] = true; // индекс уровня 3
    localStorage.setItem('lessonProgress', JSON.stringify(progress));
    // показать кнопку перехода на следующий уровень
    document.getElementById('nextLevel').style.display = 'block';
  } else {
    feedback.textContent = "Неверно. Попробуйте ещё раз.";
  }
}

function goNextLevel(){
  window.location.href = 'lesson4.html';
}
</script>
</body>
</html>
